<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC
"-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
	<br/>
	
	<head>
		<meta http-equiv="Cache-Control" content="no-store" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
		<link rel="shortcut icon" href="./images/favicon.ico"
			type="image/x-icon" />
	</head>
	
	<body>
		<table>
			<tr>
				<td colspan="2"><p class="topcrimes">Top WikiCrimes</p><hr style="border: 0; border-top: 2px #A9A9A9 dotted;" /></td>
			</tr>
			<tr>
				<td width="510px">
					<p class="toptitulo">#{messages['crimes.maiscomentados']}</p>
					<t:dataTable id="crimes1" var="crime" value="#{mostrarDadosForm.crimeService.crimesMaisComentados}">
			    		<t:column>
			    			<h:outputLink value="verCrime.html">
			    				<h:outputText style="font-size:11px" value="#{crime.dataHoraRegistro}">
			    					<f:convertDateTime pattern="#{messages['crime.data.formato']}" />
			    				</h:outputText>
			    				<span> | </span>
			    				<h:outputText value="#{fn:length(crime.descricao) le 40 ? fn:substring(crime.descricao,0,fn:length(crime.descricao)) : fn:substring(crime.descricao,0,40)}"/>
			    				<c:if test="#{fn:length(crime.descricao) ge 40}">
							    	<span>...</span>
							    </c:if>
							    <span>...</span>
			    				<f:param name="idCrime" value="#{crime.chave}" />
			    			</h:outputLink>
			    		</t:column>
        			</t:dataTable>
				</td>
				<td width="510px">
					<p class="toptitulo">#{messages['crimes.maisvistos']}</p>
			        <t:dataTable id="crimes2" var="crime" value="#{mostrarDadosForm.crimeService.crimesMaisVistos}">
			    		<t:column>
			    			<h:outputLink value="verCrime.html">
			    				<h:outputText style="font-size:11px" value="#{crime.dataHoraRegistro}">
			    					<f:convertDateTime pattern="#{messages['crime.data.formato']}" />
			    				</h:outputText>
			    				<span> | </span>
			    				<h:outputText value="#{fn:length(crime.descricao) le 40 ? fn:substring(crime.descricao,0,fn:length(crime.descricao)) : fn:substring(crime.descricao,0,40)}"/>
			    				<c:if test="#{fn:length(crime.descricao) ge 40}">
							    	<span>...</span>
							    </c:if>
							    <span>...</span>
			    				<f:param name="idCrime" value="#{crime.chave}" />
			    			</h:outputLink>
			    		</t:column>
			        </t:dataTable>
				</td>
			</tr>
		</table>
	</body>
	
</html>