<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC
"-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:v="http://rdf.data-vocabulary.org/#"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
	<br/>
	
	<head>
		<meta http-equiv="Cache-Control" content="no-store" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
		<link rel="shortcut icon" href="./images/favicon.ico"
			type="image/x-icon" />
		<link rel="stylesheet" type="text/css" href="./styles/wikicrimes.css"
			title="default" />
		
	</head>
	
	<f:view>
		<ui:composition template="layoutCrime.xhtml">
			<ui:define name="titulo">
                #{mostrarDadosForm.crime.tipoCrime.descricao} | #{mostrarDadosForm.crime.estado} - #{mostrarDadosForm.crime.cidade} - #{mostrarDadosForm.crime.descricao}
            </ui:define>
			<ui:define name="menu">		
					<ui:include src="header.xhtml" />
			</ui:define>
			<ui:define name="idioma">
					
				<ui:include src="idioma.xhtml" />
				
			</ui:define>
			
			<ui:define name="conteudo">
			<hr /><br clear="both" />
				
				<rich:panel>
					<t:panelGrid>
						<t:panelGroup>
							<h:outputLink value="/">
								<h:outputText value="#{messages['page.main']}"/>
							</h:outputLink>
							<h:outputText value=" >> #{messages['page.crime']}" />
						</t:panelGroup>
					</t:panelGrid>
				</rich:panel>
				
				<div id="detalhecrime">
					
					<div id="detalhemapa" style="height: 300px; width: 500px; float: right; margin: 20px;"></div>
					
					<div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Event">
					
					<c:if test="#{mostrarDadosForm.crime.cidade != null}">
			 		
			 		 	<c:if test="#{mostrarDadosForm.crime.tipoCrime.idTipoCrime != 5}">
			 				<span property="v:summary"><h:outputText value="#{mostrarDadosForm.crime.tipoCrime.descricao}"/></span>
			 			</c:if>
			 			<c:if test="#{mostrarDadosForm.crime.tipoCrime.idTipoCrime == 5}">
			 				<span property="v:summary"><h:outputText value="#{mostrarDadosForm.crime.tipoVitima.descricao}"/></span>
			 			</c:if>
			 			
			 			<span rel="v:location">
				    		<span typeof="v:Address">    			
			 					<h:outputText value=" #{messages['crime.titulo.cidade']} "/>			 					
			 					<span property="v:locality">			 			
			 					<h:outputText value="#{mostrarDadosForm.crime.cidade}"/>
			 					</span>
			 					<h:outputText value=" #{messages['crime.titulo.estado']} "/>
			 					<span property="v:region">
			 					<h:outputText value="#{mostrarDadosForm.crime.estado}"/>
			 					</span>
			 					
			 					<span rel="v:geo">
			 						<span property="v:latitude" content="#{mostrarDadosForm.crime.latitude}" ></span>
          							<span property="v:longitude" content="#{mostrarDadosForm.crime.longitude}" ></span>
			 					</span>
			 				</span>		
			 			</span> 
			 			<span property="v:startDate" content="#{mostrarDadosForm.ISODate}">	
			 			<h:outputText value=" - #{mostrarDadosForm.crime.dataHoraRegistro}">
			 			<f:convertDateTime pattern="#{messages['crime.data.formato']}" />
			 			</h:outputText>
			 			</span>
			 		
			 		</c:if>
			 		<c:if test="#{mostrarDadosForm.crime.cidade == null}">
			 		<p>
			 		<h:outputText value="#{messages['crime.titulo.data']} "/>
			 		<span property="v:startDate" content="#{mostrarDadosForm.ISODate}">	
			 			<h:outputText value="#{mostrarDadosForm.crime.dataHoraRegistro}">
			 			<f:convertDateTime pattern="#{messages['crime.data.formato']}" />
			 			</h:outputText>
			 		</span>
			 		</p>
			 		</c:if>
			 					 		
					<p style="text-align: justify;">
					<span property="v:description">
					<h:outputText value="#{mostrarDadosForm.crime.descricao}" />
					</span>
					</p>
					
					
					<c:if test="#{mostrarDadosForm.crime.linkNoticia}">
					<p style="text-align: justify;">Fonte:<br/>
						<h:outputLink target="_blank" value="#{mostrarDadosForm.crime.linkNoticia}">
							<h:outputText value="#{mostrarDadosForm.crime.linkNoticia}"/>
						</h:outputLink>
					</p>
					</c:if>
					<div>
					<h:outputLink value="main.html" rel="v:url">
						<h:outputText value="#{messages['crime.mapainterativo']}"/>
						<f:param name="idcrime" value="#{mostrarDadosForm.crime.chave}"/>
					</h:outputLink>
					</div>
					</div>
					<hr/>
					<div id="divFiltrosAplicados"></div>
					<div id="loadingPequeno"></div>
					
					<t:dataTable id="tiposcrimes" var="tipoCrime" value="#{mostrarDadosForm.tiposCrimes}">
					<t:column>
						<div>
							<h:outputLink value="listarCrimesTipo.html">
								<h:outputText value="#{messages['crime.relacionados']} " />
								<h:outputText value="#{messages[tipoCrime.nome]}" />
								<f:param name="idTipoCrime" value="#{tipoCrime.idTipoCrime}" />
								<f:param name="paginaAtual" value="1" />
							</h:outputLink>
						</div>
					</t:column>
					</t:dataTable>
				</div>
				<t:saveState value="#{mostrarDadosForm.idCrime}"></t:saveState>
			</ui:define>
			
			<ui:define name="crimes">
				<ui:include src="mostrarCrimesMain.xhtml"/>
				<hr style="border: 0; border-top: 2px #A9A9A9 dotted;" />
			</ui:define>
		
			<ui:define name="footer">
				<ui:include src="footer.xhtml" />
				<br/>
				<br/>
				<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.wikicrimes.org&amp;layout=standard&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light&amp;height=80" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:450px; height:80px;" allowTransparency="true"></iframe>
			</ui:define>
		</ui:composition>
	</f:view>
	</html>